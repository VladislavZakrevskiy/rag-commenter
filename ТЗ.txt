Техническое задание для создания RAG тг бота

требуется создать тг бота, который будет:
1) тг бот будет админом в тг канале
2) ему нужно читать каждое сообщение с тг канала
3) сохраняет все изображения в s3 bucket
4) сохраняет все тексты в бд
5) есть entity Post которая соединяет entity Image и entity Text
6) есть entity Image которая содержит изображение
7) есть entity Text которая содержит текст
8) для Text есть сохраненный вектор
9) каждый пост ищет самые релевантные посты 
и выбирает рандомное количество картинок (1-3) из этих найденных постов (10 самых релевантных)
отдает нейросети эти 10 релевантных постов
и выбирает случайно 1 из 3 режимов написания: смешной, депрессивный и токсично оскорбляющий
и пишет комментарий под данным постом 

стек: 
server: NestJS
tgbot: telegraf, nestjs-telegraf
db: postgres
orm: любая, которая поддерживает векторы
s3: from yandex cloud
ai: from yandex cloud
